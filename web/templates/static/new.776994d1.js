var e=Object.defineProperty,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;import{_ as s,a as l}from"./index.d1286f7e.js";const u={data(){const e=(e,r,t)=>{r.length<8?t(new Error(this.$t("passError"))):/^[a-zA-Z]\w{8,18}$/.test(r)?t():t(new Error(this.$t("passError")))};return{form:{username:"",password1:"",password2:"",useremail:""},registerRules:{username:[{required:!0,trigger:"blur",validator:(e,r,t)=>{r.length<4?t(new Error(this.$t("userError"))):/^(?![^A-Za-z]+$)(?![^0-9]+$)[0-9A-Za-z_]{4,15}$/.test(r)?t():t(new Error(this.$t("userError")))}}],password1:[{required:!0,trigger:"blur",validator:e}],password2:[{required:!0,trigger:"blur",validator:e}],useremail:[{required:!0,trigger:"blur",validator:(e,r,t)=>{r&&/^(([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})$/.test(r)?t():t(new Error(this.$t("mailError")))}}]},loading:!1,pwdType:"password"}},computed:((e,s)=>{for(var l in s||(s={}))t.call(s,l)&&o(e,l,s[l]);if(r)for(var l of r(s))a.call(s,l)&&o(e,l,s[l]);return e})({},Vuex.mapState(["docTitle"])),created(){document.title=this.docTitle},methods:{async register(){const e=new FormData;""!==this.form.username&&""!==this.form.password1&&""!==this.form.useremail?this.form.password1===this.form.password2?(e.set("username",this.form.username),e.set("password",btoa(this.form.password1)),e.set("useremail",this.form.useremail),await l(e),this.$router.replace("/login").catch()):this.$message.error(this.$t("passDifferentError")):this.$message.error(this.$t("inputNotNull2"))}}},i={class:"register-container"},n={class:"title-container"},d={class:"title"},p={class:"svg-container"},m={class:"svg-container"},c={class:"svg-container"},V={class:"svg-container"};var w=s(u,[["render",function(e,r,t,a,o,s){const l=Vue.resolveComponent("svg-icon"),u=Vue.resolveComponent("el-input"),w=Vue.resolveComponent("el-form-item"),f=Vue.resolveComponent("el-button"),h=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",i,[Vue.createVNode(h,{class:"register-form",model:o.form,rules:o.registerRules,ref:"form","label-position":"left"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",n,[Vue.createElementVNode("h3",d,Vue.toDisplayString(e.$t("registerUser")),1)]),Vue.createVNode(w,{prop:"username"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",p,[Vue.createVNode(l,{"icon-class":"user"})]),Vue.createVNode(u,{ref:"username",name:"username",type:"text",modelValue:o.form.username,"onUpdate:modelValue":r[0]||(r[0]=e=>o.form.username=e),placeholder:e.$t("inputName")},null,8,["modelValue","placeholder"])])),_:1}),Vue.createVNode(w,{prop:"password1"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",m,[Vue.createVNode(l,{"icon-class":"password"})]),Vue.createVNode(u,{name:"password1",type:o.pwdType,modelValue:o.form.password1,"onUpdate:modelValue":r[1]||(r[1]=e=>o.form.password1=e),placeholder:e.$t("inputPass"),"show-password":""},null,8,["type","modelValue","placeholder"])])),_:1}),Vue.createVNode(w,{prop:"password2"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",c,[Vue.createVNode(l,{"icon-class":"password"})]),Vue.createVNode(u,{name:"password2",type:o.pwdType,onKeyup:Vue.withKeys(s.register,["enter"]),modelValue:o.form.password2,"onUpdate:modelValue":r[2]||(r[2]=e=>o.form.password2=e),placeholder:e.$t("inputPassAgain"),"show-password":""},null,8,["type","onKeyup","modelValue","placeholder"])])),_:1}),Vue.createVNode(w,{prop:"useremail"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",V,[Vue.createVNode(l,{"icon-class":"email"})]),Vue.createVNode(u,{ref:"useremail",name:"useremail",type:"text",modelValue:o.form.useremail,"onUpdate:modelValue":r[3]||(r[3]=e=>o.form.useremail=e),placeholder:e.$t("inputEmail")},null,8,["modelValue","placeholder"])])),_:1}),Vue.createVNode(w,null,{default:Vue.withCtx((()=>[Vue.createVNode(f,{type:"primary",style:{width:"100%"},loading:o.loading,onClick:Vue.withModifiers(s.register,["prevent"])},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("register")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])])}],["__scopeId","data-v-a3415b9a"]]);export{w as default};
