var e=Object.defineProperty,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;import{_ as a,c as l,r as d}from"./index.d1286f7e.js";const n={data(){const e=(e,r,t)=>{r.length<5?t(new Error(this.$t("passLessError"))):t()};return{form:{password1:"",password2:""},registerRules:{password1:[{required:!0,trigger:"blur",validator:e}],password2:[{required:!0,trigger:"blur",validator:e}]},loading:!1,pwdType:"password"}},computed:((e,a)=>{for(var l in a||(a={}))t.call(a,l)&&s(e,l,a[l]);if(r)for(var l of r(a))o.call(a,l)&&s(e,l,a[l]);return e})({},Vuex.mapState(["docTitle"])),created(){document.title=this.docTitle,l().then((e=>{200===e.code&&(this.$store.commit("LOGIN_OUT"),this.$router.replace("/login").catch())}))},methods:{async register(){const e=new FormData;this.form.password1===this.form.password2?(e.set("password",CryptoJS.SHA224(this.form.password1).toString()),await d(e),this.$router.replace("/login").catch()):this.$message.error(this.$t("passDifferentError"))}}},i={class:"register-container"},p={class:"title-container"},u={class:"title"},c={class:"svg-container"},V={class:"svg-container"};var m=a(n,[["render",function(e,r,t,o,s,a){const l=Vue.resolveComponent("svg-icon"),d=Vue.resolveComponent("el-input"),n=Vue.resolveComponent("el-form-item"),m=Vue.resolveComponent("el-button"),w=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",i,[Vue.createVNode(w,{class:"register-form",model:s.form,rules:s.registerRules,ref:"form","label-position":"left"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",p,[Vue.createElementVNode("h3",u,Vue.toDisplayString(e.$t("setupPass")),1)]),Vue.createVNode(n,{prop:"password1"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",c,[Vue.createVNode(l,{"icon-class":"password"})]),Vue.createVNode(d,{name:"password1",type:s.pwdType,modelValue:s.form.password1,"onUpdate:modelValue":r[0]||(r[0]=e=>s.form.password1=e),placeholder:e.$t("inputPass"),"show-password":""},null,8,["type","modelValue","placeholder"])])),_:1}),Vue.createVNode(n,{prop:"password2"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",V,[Vue.createVNode(l,{"icon-class":"password"})]),Vue.createVNode(d,{name:"password2",type:s.pwdType,onKeyup:Vue.withKeys(a.register,["enter"]),modelValue:s.form.password2,"onUpdate:modelValue":r[1]||(r[1]=e=>s.form.password2=e),placeholder:e.$t("inputPassAgain"),"show-password":""},null,8,["type","onKeyup","modelValue","placeholder"])])),_:1}),Vue.createVNode(n,null,{default:Vue.withCtx((()=>[Vue.createVNode(m,{type:"primary",style:{width:"100%"},loading:s.loading,onClick:Vue.withModifiers(a.register,["prevent"])},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("register")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])])}],["__scopeId","data-v-5ba097a6"]]);export{m as default};
