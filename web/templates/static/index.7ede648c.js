var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,s,o)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o;import{s as l,c as u,d as n,a as c,b as d,u as V}from"./user.08d0e386.js";import{_ as h,d as m,p,j as y,k as w,m as $,b as f,n as x,o as C,q as g}from"./index.d1286f7e.js";import{r as N,c as k}from"./trojan.1a902a48.js";const b={setup:()=>({Refresh:m,Plus:p,RefreshLeft:y,Scissor:w,Delete:$}),data(){return{search:"",domain:"",port:0,shareLink:"",dataList:[],multipleSelection:[],copySelection:[],clientHeight:0,userVisible:!1,confirmVisible:!1,quotaVisible:!1,qrcodeVisible:!1,expiryVisible:!1,expiryShow:"",patchButton:!1,commonType:0,userItem:null,quota:-1,quotaUnit:"MB",useDays:7,quotaOptions:[{value:"MB"},{value:"GB"}],expiryDateOptions:[{label:this.$t("user.week"),value:7},{label:this.$t("user.month"),value:30},{label:this.$t("user.season"),value:90},{label:this.$t("user.halfYear"),value:183},{label:this.$t("user.year"),value:365}],userInfo:{username:"",password:""}}},computed:(S=((e,t)=>{for(var s in t||(t={}))r.call(t,s)&&i(e,s,t[s]);if(o)for(var s of o(t))a.call(t,s)&&i(e,s,t[s]);return e})({},Vuex.mapState(["dialogWidth","isAdmin"])),D={commonTitle:function(){let e="";return 2===this.commonType?e=this.$t("user.addUser"):3===this.commonType?e=this.$t("user.modifyUser2")+this.userItem.Username+this.$t("user.userpass"):0===this.commonType?this.patchButton?e=this.$t("user.patchDelUser"):null!==this.userItem&&(e=this.$t("user.delUser")+this.userItem.Username+" ?"):1===this.commonType&&(this.patchButton?e=this.$t("user.patchReset"):null!==this.userItem&&(e=this.$t("user.resetUser")+this.userItem.Username+this.$t("user.data"))),e},editUser:function(){if(this.patchButton){let e="";for(let t=0;t<this.copySelection.length;t++)e+=", "+this.copySelection[t].Username;return e.substring(1)}return""},quotaText:function(){return this.patchButton?`${this.$t("user.patchLimitUser")}`:null!==this.userItem?`${this.$t("user.limitUser")} ${this.userItem.Username} ${this.$t("user.data")}`:""}},t(S,s(D))),created(){this.refresh(),this.clientHeight=document.body.clientHeight-120},mounted(){window.onresize=()=>{this.clientHeight=document.body.clientHeight-120}},methods:{handleSelectionChange(e){this.multipleSelection=e},passwordFormatter:e=>atob(e.Password),quotaFormatter(e){return-1===e.Quota?this.$t("user.unlimit"):f(e.Quota)},expiryFormatter(e){return""===e.ExpiryDate?this.$t("user.unlimit"):e.ExpiryDate},uploadFormatter:e=>f(e.Upload),downloadFormatter:e=>f(e.Download),totalFormatter:e=>f(e.Download+e.Upload),uploadSort:(e,t)=>e.Upload-t.Upload,downloadSort:(e,t)=>e.Download-t.Download,totalSort:(e,t)=>e.Download+e.Upload-(t.Download+t.Upload),handleShare(){let e=encodeURIComponent(`${this.domain}:${this.port}`);this.shareLink=`trojan://${atob(this.userItem.Password)}@${this.domain}:${this.port}#${e}`,this.$nextTick((()=>{new QRCode(this.$refs.qrcode,{width:200,height:200,text:this.shareLink})})),this.qrcodeVisible=!0},handleClash(){let e=btoa(`{"user": "${this.userItem.Username}", "pass": "${atob(this.userItem.Password)}"}`),t=`${window.location.origin}/trojan/user/subscribe?token=${e}`;window.location.href=`clash://install-config?url=${t}`},handelEditUser(){this.userInfo.username=this.userItem.Username,this.userInfo.password=atob(this.userItem.Password),this.commonType=3,this.userVisible=!0},textShow(e){return"80%"===this.dialogWidth?"":e},closeQRCode(){this.$refs.qrcode.innerHTML=""},calculateDay:e=>dayjs(e).diff(dayjs(dayjs().format("YYYY-MM-DD")),"day"),async setUserExpire(){const e=new FormData;e.set("id",this.userItem.ID),e.set("useDays",this.useDays);const t=await l(e);"success"===t.Msg?this.$message({message:`${this.$t("user.setExpireSuccess")}`,type:"success"}):this.$message.error(t.Msg),this.userItem=null,this.refresh()},async cancelUserExpire(){const e=await u(this.userItem.ID);"success"===e.Msg?this.$message({message:`${this.$t("user.cancelExpireSuccess")}`,type:"success"}):this.$message.error(e.Msg),this.userItem=null,this.refresh()},async requestQuota(){const e=new FormData;e.set("id",this.userItem.ID),e.set("quota",this.quota);const t=await x(e);"success"===t.Msg?this.$message({message:`${this.$t("user.limitUser2")} ${this.userItem.Username} ${this.$t("user.limitSuccess")}`,type:"success"}):this.$message.error(t.Msg)},async handleSetQuota(){if(-1!==this.quota&&("MB"===this.quotaUnit?this.quota=1024*this.quota*1024:"GB"===this.quotaUnit&&(this.quota=1024*this.quota*1024*1024)),this.patchButton)for(let e=0;e<this.copySelection.length;e++)this.userItem=this.copySelection[e],await this.requestQuota();else await this.requestQuota();this.userItem=null,this.quota=0,this.refresh()},async handlePatchOpera(){let e="",t=null;0===this.commonType&&this.$store.commit("SET_NOERROR",!0);for(let s=0;s<this.copySelection.length;s++){if(this.userItem=this.copySelection[s],0===this.commonType){try{t=await n(this.userItem.ID)}catch{t={Msg:"success"}}e=`${this.$t("user.delUser1")}${this.userItem.Username}${this.$t("user.success")}`}else 1===this.commonType&&(t=await C(this.userItem.ID),e=`${this.$t("user.resetUser1")}${this.userItem.Username}${this.$t("user.success")}`);"success"===t.Msg?(this.$message({message:e,type:"success"}),this.userItem=null):this.$message.error(t.Msg)}0===this.commonType&&this.$store.commit("SET_NOERROR",!1),this.refresh()},async handleOpera(){let e="",t=null;if(0===this.commonType){this.$store.commit("SET_NOERROR",!0);try{t=await n(this.userItem.ID)}catch{t={Msg:"success"}}this.$store.commit("SET_NOERROR",!1),e=`${this.$t("user.delUser1")}${this.userItem.Username}${this.$t("user.success")}`}else 1===this.commonType&&(t=await C(this.userItem.ID),e=`${this.$t("user.resetUser1")}${this.userItem.Username}${this.$t("user.success")}`);"success"===t.Msg?this.$message({message:e,type:"success"}):this.$message.error(t.Msg),this.refresh()},async handleUpdateUser(){if(""===this.userInfo.username||""===this.userInfo.password)return void this.$message.error(this.$t("inputNotNull"));if("admin"===this.userInfo.username)return void this.$message.error(this.$t("user.limitAdmin"));const e=new FormData;e.set("id",this.userItem.ID),e.set("username",this.userInfo.username);try{e.set("password",btoa(this.userInfo.password))}catch(s){return void this.$message.error(this.$t("user.passLimit"))}const t=await c(e);if(this.userVisible=!1,this.refresh(),"success"===t.Msg){this.$message({message:`${this.$t("user.modifyUser2")}${this.userInfo.username}${this.$t("user.success")}`,type:"success"}),this.$store.commit("SET_NOERROR",!0);try{await N().catch()}catch(s){this.$store.commit("SET_NOERROR",!1)}}else this.$message.error(t.Msg)},async handleAddUser(){if(""===this.userInfo.username||""===this.userInfo.password)return void this.$message.error(this.$t("inputNotNull"));if("admin"===this.userInfo.username)return void this.$message.error(this.$t("user.limitAdmin"));const e=new FormData;e.set("username",this.userInfo.username);try{e.set("password",btoa(this.userInfo.password))}catch(s){return void this.$message.error(this.$t("user.passLimit"))}const t=await d(e);"success"===t.Msg?(this.$message({message:`${this.$t("user.addUser2")}${this.userInfo.username}${this.$t("user.success")}`,type:"success"}),this.userInfo.username="",this.userInfo.password=""):this.$message.error(t.Msg),this.userVisible=!1,this.refresh()},refresh(){this.dataList=[],this.domain="",this.getUserList()},async getUserList(){const e=await V();if("success"===e.Msg)if(null===e.Data.userList?this.dataList=[]:this.dataList=e.Data.userList,this.port=e.Data.port,""!==e.Data.domain)this.domain=e.Data.domain;else{const e=window.location.hostname;if(!g(e)){this.domain=e;const s=new FormData;s.set("domain",this.domain),this.$store.commit("SET_NPROGRESS",!1),this.$store.commit("SET_NOERROR",!0);try{await k(s)}catch(t){this.$store.commit("SET_NPROGRESS",!0),this.$store.commit("SET_NOERROR",!1)}}}else this.$message.error(e.Msg)}}};var S,D;const U={key:0},I={class:"name-wrapper"},T={key:1},_={key:1},B={class:"dialog-footer"},v={class:"dialog-footer"},E={id:"qrcode",ref:"qrcode",class:"qrcodeCenter"},q={class:"qrcodeCenter"},R={class:"dialog-footer"};var O=h(b,[["render",function(e,t,s,o,r,a){const i=Vue.resolveComponent("el-button"),l=Vue.resolveComponent("el-button-group"),u=Vue.resolveComponent("el-form-item"),n=Vue.resolveComponent("el-form"),c=Vue.resolveComponent("el-table-column"),d=Vue.resolveComponent("el-tag"),V=Vue.resolveComponent("el-popover"),h=Vue.resolveComponent("el-input"),m=Vue.resolveComponent("el-dropdown-item"),p=Vue.resolveComponent("el-dropdown-menu"),y=Vue.resolveComponent("el-dropdown"),w=Vue.resolveComponent("el-table"),$=Vue.resolveComponent("el-dialog"),f=Vue.resolveComponent("el-divider"),x=Vue.resolveComponent("el-input-number"),C=Vue.resolveComponent("el-tooltip"),g=Vue.resolveComponent("el-option"),N=Vue.resolveComponent("el-select");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(n,{inline:!0,"label-width":"80px"},{default:Vue.withCtx((()=>[Vue.createVNode(u,null,{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{default:Vue.withCtx((()=>[Vue.createVNode(i,{type:"primary",icon:o.Refresh,onClick:t[0]||(t[0]=e=>a.refresh())},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.textShow(e.$t("refresh"))),1)])),_:1},8,["icon"]),e.isAdmin?(Vue.openBlock(),Vue.createBlock(i,{key:0,type:"primary",icon:o.Plus,onClick:t[1]||(t[1]=e=>{r.commonType=2,r.userInfo.username="",r.userInfo.password="",r.userVisible=!0})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.textShow(e.$t("add"))),1)])),_:1},8,["icon"])):Vue.createCommentVNode("",!0),e.isAdmin?(Vue.openBlock(),Vue.createBlock(i,{key:1,type:"primary",icon:o.RefreshLeft,onClick:t[2]||(t[2]=e=>{r.copySelection=r.multipleSelection,r.patchButton=!0,r.commonType=1,r.confirmVisible=!0})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.textShow(e.$t("user.reset"))),1)])),_:1},8,["icon"])):Vue.createCommentVNode("",!0),e.isAdmin?(Vue.openBlock(),Vue.createBlock(i,{key:2,type:"primary",icon:o.Scissor,onClick:t[3]||(t[3]=e=>{r.copySelection=r.multipleSelection,r.patchButton=!0,r.quotaVisible=!0})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.textShow(e.$t("user.limitData"))),1)])),_:1},8,["icon"])):Vue.createCommentVNode("",!0),e.isAdmin?(Vue.openBlock(),Vue.createBlock(i,{key:3,type:"danger",icon:o.Delete,onClick:t[4]||(t[4]=e=>{r.copySelection=r.multipleSelection,r.patchButton=!0,r.commonType=0,r.confirmVisible=!0})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.textShow(e.$t("delete"))),1)])),_:1},8,["icon"])):Vue.createCommentVNode("",!0)])),_:1})])),_:1})])),_:1}),Vue.createVNode(w,{data:r.dataList.filter((e=>!r.search||e.Username.toLowerCase().includes(r.search.toLowerCase()))),height:r.clientHeight,onSelectionChange:a.handleSelectionChange,class:"tableShow"},{default:Vue.withCtx((()=>[e.isAdmin?(Vue.openBlock(),Vue.createBlock(c,{key:0,type:"selection",width:"55"})):Vue.createCommentVNode("",!0),Vue.createVNode(c,{label:e.$t("username"),prop:"Username"},null,8,["label"]),Vue.createVNode(c,{label:e.$t("password"),formatter:a.passwordFormatter},null,8,["label","formatter"]),Vue.createVNode(c,{label:e.$t("user.upload"),formatter:a.uploadFormatter,"sort-method":a.uploadSort,sortable:""},null,8,["label","formatter","sort-method"]),Vue.createVNode(c,{label:e.$t("user.download"),formatter:a.downloadFormatter,"sort-method":a.downloadSort,sortable:""},null,8,["label","formatter","sort-method"]),Vue.createVNode(c,{label:e.$t("user.total"),formatter:a.totalFormatter,"sort-method":a.totalSort,sortable:""},null,8,["label","formatter","sort-method"]),Vue.createVNode(c,{label:e.$t("user.quota"),formatter:a.quotaFormatter},null,8,["label","formatter"]),Vue.createVNode(c,{label:e.$t("user.expiryDate")},{default:Vue.withCtx((t=>[""===t.row.ExpiryDate?(Vue.openBlock(),Vue.createElementBlock("div",U,Vue.toDisplayString(e.$t("user.unlimit")),1)):(Vue.openBlock(),Vue.createBlock(V,{key:1,trigger:"hover",placement:"top"},{reference:Vue.withCtx((()=>[Vue.createElementVNode("div",I,[Vue.createVNode(d,null,{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(""===t.row.ExpiryDate?e.$t("user.unlimit"):t.row.ExpiryDate),1)])),_:2},1024)])])),default:Vue.withCtx((()=>[Vue.createElementVNode("p",null,Vue.toDisplayString(e.$t("user.remaining"))+": "+Vue.toDisplayString(a.calculateDay(t.row.ExpiryDate)),1)])),_:2},1024))])),_:1},8,["label"]),Vue.createVNode(c,{width:"170",align:"center"},{header:Vue.withCtx((()=>[e.isAdmin?(Vue.openBlock(),Vue.createBlock(h,{key:0,modelValue:r.search,"onUpdate:modelValue":t[5]||(t[5]=e=>r.search=e),placeholder:e.$t("user.search")},null,8,["modelValue","placeholder"])):Vue.createCommentVNode("",!0),e.isAdmin?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",T,Vue.toDisplayString(e.$t("user.operate")),1))])),default:Vue.withCtx((t=>[e.isAdmin?(Vue.openBlock(),Vue.createBlock(y,{key:0},{dropdown:Vue.withCtx((()=>[Vue.createVNode(p,null,{default:Vue.withCtx((()=>[Vue.createVNode(m,{onClick:e=>{r.userItem=t.row,r.patchButton=!1,r.quotaVisible=!0}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.limitData")),1)])),_:2},1032,["onClick"]),Vue.createVNode(m,{onClick:e=>{r.userItem=t.row,r.commonType=1,r.patchButton=!1,r.confirmVisible=!0}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.reset")),1)])),_:2},1032,["onClick"]),Vue.createVNode(m,{onClick:e=>{r.userItem=t.row,a.handelEditUser()}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.modifyUser")),1)])),_:2},1032,["onClick"]),""===t.row.ExpiryDate?(Vue.openBlock(),Vue.createBlock(m,{key:0,onClick:s=>{r.userItem=t.row,r.expiryShow=e.$t("user.setExpire"),r.expiryVisible=!0}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.setExpire")),1)])),_:2},1032,["onClick"])):(Vue.openBlock(),Vue.createElementBlock("div",_,[Vue.createVNode(m,{onClick:s=>{r.userItem=t.row,r.expiryShow=e.$t("user.editExpire"),r.expiryVisible=!0}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.editExpire")),1)])),_:2},1032,["onClick"]),Vue.createVNode(m,{onClick:e=>{r.userItem=t.row,a.cancelUserExpire()}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.cancelExpire")),1)])),_:2},1032,["onClick"])]))])),_:2},1024)])),default:Vue.withCtx((()=>[Vue.createVNode(i,{type:"primary",link:"",style:{"margin-top":"2.6px"}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("edit")),1)])),_:1})])),_:2},1024)):Vue.createCommentVNode("",!0),Vue.createVNode(y,{style:{"margin-left":"5px"}},{dropdown:Vue.withCtx((()=>[Vue.createVNode(p,null,{default:Vue.withCtx((()=>[Vue.createVNode(m,{onClick:e=>{r.userItem=t.row,a.handleShare()}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.shareLink")),1)])),_:2},1032,["onClick"]),Vue.createVNode(m,{onClick:e=>{r.userItem=t.row,a.handleClash()}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("user.importClash")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),default:Vue.withCtx((()=>[Vue.createVNode(i,{type:"primary",link:"",style:{"margin-top":"2.6px"}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("share")),1)])),_:1})])),_:2},1024),e.isAdmin?(Vue.openBlock(),Vue.createBlock(i,{key:1,style:{"margin-left":"5px"},type:"primary",link:"",onClick:e=>{r.userItem=t.row,r.commonType=0,r.patchButton=!1,r.confirmVisible=!0}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$t("delete")),1)])),_:2},1032,["onClick"])):Vue.createCommentVNode("",!0)])),_:1})])),_:1},8,["data","height","onSelectionChange"]),Vue.createVNode($,{title:a.commonTitle,modelValue:r.userVisible,"onUpdate:modelValue":t[12]||(t[12]=e=>r.userVisible=e),width:e.dialogWidth},{footer:Vue.withCtx((()=>[Vue.createVNode(i,{onClick:t[10]||(t[10]=e=>r.userVisible=!1)},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("cancel")),1)])),_:1}),Vue.createVNode(i,{type:"primary",onClick:t[11]||(t[11]=e=>2===r.commonType?a.handleAddUser():a.handleUpdateUser())},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("ok")),1)])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(h,{type:"text",modelValue:r.userInfo.username,"onUpdate:modelValue":t[6]||(t[6]=e=>r.userInfo.username=e),placeholder:e.$root.$t("user.inputUsername"),onKeyup:t[7]||(t[7]=Vue.withKeys((e=>2===r.commonType?a.handleAddUser():a.handleUpdateUser()),["enter"]))},null,8,["modelValue","placeholder"]),Vue.createVNode(h,{type:"text",modelValue:r.userInfo.password,"onUpdate:modelValue":t[8]||(t[8]=e=>r.userInfo.password=e),placeholder:e.$root.$t("user.inputPassword"),onKeyup:t[9]||(t[9]=Vue.withKeys((e=>2===r.commonType?a.handleAddUser():a.handleUpdateUser()),["enter"]))},null,8,["modelValue","placeholder"])])),_:1},8,["title","modelValue","width"]),Vue.createVNode($,{title:a.commonTitle,modelValue:r.confirmVisible,"onUpdate:modelValue":t[15]||(t[15]=e=>r.confirmVisible=e),width:e.dialogWidth},{footer:Vue.withCtx((()=>[Vue.createElementVNode("span",B,[Vue.createVNode(i,{onClick:t[13]||(t[13]=e=>{r.confirmVisible=!1,r.copySelection=[]})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("cancel")),1)])),_:1}),Vue.createVNode(i,{type:"primary",onClick:t[14]||(t[14]=e=>{r.confirmVisible=!1,r.patchButton?a.handlePatchOpera():a.handleOpera()})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("ok")),1)])),_:1})])])),default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.editUser)+" ",1)])),_:1},8,["title","modelValue","width"]),Vue.createVNode($,{title:a.quotaText,modelValue:r.quotaVisible,"onUpdate:modelValue":t[20]||(t[20]=e=>r.quotaVisible=e),width:e.dialogWidth},{footer:Vue.withCtx((()=>[Vue.createElementVNode("span",v,[Vue.createVNode(i,{onClick:t[18]||(t[18]=e=>r.quotaVisible=!1)},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("cancel")),1)])),_:1}),Vue.createVNode(i,{type:"primary",onClick:t[19]||(t[19]=e=>{r.quotaVisible=!1,a.handleSetQuota()})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("ok")),1)])),_:1})])])),default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(a.editUser)+" ",1),""!=a.editUser?(Vue.openBlock(),Vue.createBlock(f,{key:0})):Vue.createCommentVNode("",!0),Vue.createVNode(C,{effect:"dark",content:e.$t("user.meanUnlimit"),placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(x,{modelValue:r.quota,"onUpdate:modelValue":t[16]||(t[16]=e=>r.quota=e),min:-1,precision:0},null,8,["modelValue"])])),_:1},8,["content"]),Vue.createVNode(N,{modelValue:r.quotaUnit,"onUpdate:modelValue":t[17]||(t[17]=e=>r.quotaUnit=e),placeholder:e.$t("choice"),style:{"margin-left":"5px",width:"80px"}},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r.quotaOptions,(e=>(Vue.openBlock(),Vue.createBlock(g,{key:e.value,label:e.value,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["title","modelValue","width"]),Vue.createVNode($,{title:e.$t("user.shareLink"),modelValue:r.qrcodeVisible,"onUpdate:modelValue":t[21]||(t[21]=e=>r.qrcodeVisible=e),width:e.dialogWidth,onClose:a.closeQRCode},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",E,null,512),Vue.createElementVNode("p",q,Vue.toDisplayString(r.shareLink),1)])),_:1},8,["title","modelValue","width","onClose"]),Vue.createVNode($,{title:r.expiryShow,modelValue:r.expiryVisible,"onUpdate:modelValue":t[26]||(t[26]=e=>r.expiryVisible=e),width:e.dialogWidth},{footer:Vue.withCtx((()=>[Vue.createElementVNode("span",R,[Vue.createVNode(i,{onClick:t[24]||(t[24]=e=>r.expiryVisible=!1)},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("cancel")),1)])),_:1}),Vue.createVNode(i,{type:"primary",onClick:t[25]||(t[25]=e=>{r.expiryVisible=!1,a.setUserExpire()})},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.$root.$t("ok")),1)])),_:1})])])),default:Vue.withCtx((()=>[Vue.createVNode(n,null,{default:Vue.withCtx((()=>[Vue.createVNode(u,{label:e.$t("user.preset")},{default:Vue.withCtx((()=>[Vue.createVNode(N,{modelValue:r.useDays,"onUpdate:modelValue":t[22]||(t[22]=e=>r.useDays=e),placeholder:e.$t("choice"),filterable:"",style:{width:"130px"}},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r.expiryDateOptions,(e=>(Vue.openBlock(),Vue.createBlock(g,{key:e.label,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),Vue.createVNode(u,{label:e.$t("user.days")},{default:Vue.withCtx((()=>[Vue.createVNode(x,{modelValue:r.useDays,"onUpdate:modelValue":t[23]||(t[23]=e=>r.useDays=e),min:0},null,8,["modelValue"])])),_:1},8,["label"])])),_:1})])),_:1},8,["title","modelValue","width"])])}]]);export{O as default};
